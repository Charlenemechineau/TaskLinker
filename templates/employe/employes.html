{# templates/employe/employes.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Liste des employés - TaskLinker{% endblock %}
{% block page_title %}Équipe{% endblock %}

{% block body %}
      <table id="team-container">
         <thead>
            <tr>
               <th>Prénom, Nom</th>
               <th>Statut</th>
               <th>Actions</th>
            </tr>
         </thead>
         <tbody>
         {# je boucle sur tous les employés envoyés par le contrôleur #}
         {% for employe in employes %}
            <tr>
               <td>
                  <div class="employee-infos">
                     <div class="employee-avatar">
                        {# initiales du prénom + nom #}
                        {{ employe.prenom|first|upper }}{{ employe.nom|first|upper }}
                     </div>
                     <div class="employee-coords">
                        <strong>{{ employe.prenom }} {{ employe.nom }}</strong>
                        <span>{{ employe.email }}</span>
                     </div>
                  </div>
               </td>
               <td>{{ employe.statut }}</td>
               <td>
                  <a class="button button-edit-team"
                     href="{{ path('app_employe_edit', {id: employe.id}) }}">
                     Éditer
                  </a>
                  <a class="delete-team"
                     href="{{ path('app_employe_delete', {id: employe.id}) }}"
                     onclick="return confirm('Supprimer cet employé ?');">
                     Supprimer
                  </a>
               </td>
            </tr>
         {% else %}
            <tr>
               <td colspan="3">Aucun employé pour le moment.</td>
            </tr>
         {% endfor %}
      </tbody>
   </table>
{% endblock %}
